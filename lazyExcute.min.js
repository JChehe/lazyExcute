var LazyExcute=function(){function t(t,e){if(this.elements=t,this.tag="data-src",this.handler=function(){},this.callback=null,this.distance=0,this.pause=!1,e&&"object"==typeof e)for(var n in e)this[n]=e[n];"string"==typeof t&&(this.elements=document.querySelectorAll(t));var i=this;setTimeout(function(){i.init()},30)}function e(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}function n(t){if("number"!=typeof arguments.callee.offset){var e=document.body.scrollTop||document.documentElement.scrollTop,n=document.createElement("div");n.style.cssText="position:absolute;left:0;top:0;",document.body.appendChild(n),arguments.callee.offset=-n.getBoundingClientRect().top-e,document.body.removeChild(n),n=null}var i=t.getBoundingClientRect(),o=arguments.callee.offset;return{left:i.left+o,top:i.top+o,right:i.right+o,bottom:i.bottom+o}}function i(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0}t.prototype.transToArray=function(){for(var t=[],e=0,n=this.elements.length;n>e;e++)t.push(this.elements[e]);this.elements=t},t.prototype.init=function(){var t=this;t.transToArray();var e=null;return this.handler=function(){e&&clearTimeout(e),e=setTimeout(function(){t.detectElementInViewport()},20)},this.detectElementInViewport(),o.addHandler(window,"scroll",this.handler),o.addHandler(window,"resize",this.handler),this},t.prototype.detectElementInViewport=function(){var t=e(),r=this.elements;if(r.length&&!this.pause){for(var a=0,l=r.length;l>a;a++){var s=r[a];if(i(s)){var c=n(s);(0<=c.top&&c.top<t.height+this.distance||c.top<0&&c.bottom>0-this.distance)&&(0<=c.left&&c.left<t.width+this.distance||c.left<0&&c.right>0-this.distance)&&(this.loadOperation(s),r.splice(a,1),l=r.length,a--)}}r.length||(o.removeHandler(window,"scroll",this.handler),this.callback&&this.callback())}},t.prototype.loadOperation=function(t){function e(t){var e=t.getAttribute(i.tag);e&&(t.src=e)}function n(t){var e=t.value;e&&new Function(e)()}var i=this;if("IMG"===t.tagName)e(t);else if("TEXTAREA"===t.tagName)n(t);else{for(var o=t.getElementsByTagName("img"),r=0,a=o.length;a>r;r++)e(o[r]);for(var l=t.getElementsByTagName("textarea"),s=0,c=l.length;c>s;s++)n(l[s])}},t.prototype.restart=function(){return this.pause=!1,this},t.prototype.paused=function(){return this.pause=!0,this};var o={addHandler:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},removeHandler:function(t,e,n){t.addEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}};return t}();