var LazyExcute=function(){function t(t,e){if(this.elements=t,this.tag="data-src",this.handler=function(){},this.callback=null,this.DISTANCE=100,this.pause=!1,e&&"object"==typeof e)for(var n in e)this[n]=e[n];"string"==typeof t&&(this.elements=document.querySelectorAll(t));var o=this;setTimeout(function(){o.init()},30)}function e(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}function n(t){if("number"!=typeof arguments.callee.offset){var e=document.body.scrollTop||document.documentElement.scrollTop,n=document.createElement("div");n.style.cssText="position:absolute;left:0;top:0;",document.body.appendChild(n),arguments.callee.offset=-n.getBoundingClientRect().top-e,document.body.removeChild(n),n=null}var o=t.getBoundingClientRect(),i=arguments.callee.offset;return{left:o.left+i,top:o.top+i,right:o.right+i,bottom:o.bottom+i}}t.prototype.transToArray=function(){for(var t=[],e=0,n=this.elements.length;n>e;e++)t.push(this.elements[e]);this.elements=t},t.prototype.init=function(){var t=this;t.transToArray();var e=null;return this.handler=function(){e&&clearTimeout(e),e=setTimeout(function(){t.detectElementInViewport()},20)},this.detectElementInViewport(),o.addHandler(window,"scroll",this.handler),o.addHandler(window,"resize",this.handler),this},t.prototype.detectElementInViewport=function(){var t=e(),i=this.elements;if(i.length&&!this.pause){for(var r=0,a=i.length;a>r;r++){var l=i[r],s=n(l);(0<=s.top&&s.top<t.height+this.DISTANCE||s.top<0&&s.bottom>0-this.DISTANCE)&&(0<=s.left&&s.left<t.width+this.DISTANCE||s.left<0&&s.right>0-this.DISTANCE)&&(this.loadOperation(l),i.splice(r,1),a=i.length,r--)}i.length||(o.removeHandler(window,"scroll",this.handler),this.callback&&this.callback())}},t.prototype.loadOperation=function(t){function e(t){var e=t.getAttribute(o.tag);e&&(t.src=e)}function n(t){var e=t.value;e&&new Function(e)()}var o=this;if("IMG"===t.tagName)e(t);else if("TEXTAREA"===t.tagName)n(t);else{var i=t.getElementsByTagName("img");if(i.length)for(var r=0,a=i.length;a>r;r++)e(i[r]);var l=t.getElementsByTagName("textarea");if(l.length)for(var r=0,a=l.length;a>r;r++)n(l[r])}},t.prototype.restart=function(){return this.pause=!1,this},t.prototype.paused=function(){return this.pause=!0,this};var o={addHandler:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},removeHandler:function(t,e,n){t.addEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}};return t}();